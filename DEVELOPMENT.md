# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å –ø–æ–¥–¥–æ–º–µ–Ω–∞–º–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run dev

# –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
npm run build

# –ó–∞–ø—É—Å–∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω-—Å–µ—Ä–≤–µ—Ä–∞
npm start
```

## üåê –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–º–µ–Ω (–•–∞–±–∞—Ä–æ–≤—Å–∫)

```
http://localhost:3000
```

### –ü–æ–¥–¥–æ–º–µ–Ω –ò—Ä–∫—É—Ç—Å–∫

```
http://localhost:3000/irkutsk
http://localhost:3000/irkutsk/contacts
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### SSR –≤–∫–ª—é—á—ë–Ω

- –£–±—Ä–∞–Ω `output: 'export'` –∏–∑ `next.config.js`
- –í–∫–ª—é—á—ë–Ω Server-Side Rendering –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- Middleware –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≥–æ—Ä–æ–¥ –ø–æ —Ö–æ—Å—Ç—É

### Middleware (`middleware.ts`)

```typescript
// –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≥–æ—Ä–æ–¥ –ø–æ —Ö–æ—Å—Ç—É:
// irkutsk.bst-hab.ru ‚Üí –≥–æ—Ä–æ–¥: –ò—Ä–∫—É—Ç—Å–∫
// bst-hab.ru ‚Üí –≥–æ—Ä–æ–¥: –•–∞–±–∞—Ä–æ–≤—Å–∫
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü

```
app/
‚îú‚îÄ‚îÄ page.tsx           # –ì–ª–∞–≤–Ω–∞—è (–•–∞–±–∞—Ä–æ–≤—Å–∫)
‚îú‚îÄ‚îÄ irkutsk/
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx       # –ì–ª–∞–≤–Ω–∞—è (–ò—Ä–∫—É—Ç—Å–∫)
‚îÇ   ‚îî‚îÄ‚îÄ contacts/
‚îÇ       ‚îî‚îÄ‚îÄ page.tsx   # –ö–æ–Ω—Ç–∞–∫—Ç—ã (–ò—Ä–∫—É—Ç—Å–∫)
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- `Header` ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≥–æ—Ä–æ–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–µ–∫—É—â–∏–π –≥–æ—Ä–æ–¥
- `ContactForm` ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä `city` –¥–ª—è —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è –∑–∞—è–≤–æ–∫
- –í—Å–µ —Å–µ–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä—è–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã: `@/components/sections/home/Hero/Hero`

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### Docker

–û–¥–∏–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –æ–±–æ–∏—Ö –¥–æ–º–µ–Ω–æ–≤. Nginx –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Ç–∞–∫:

```nginx
server {
    server_name bst-hab.ru;
    location / {
        proxy_pass http://localhost:3000;
    }
}

server {
    server_name irkutsk.bst-hab.ru;
    location / {
        proxy_pass http://localhost:3000;
    }
}
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (`.env`)

```env
NEXT_PUBLIC_SITE_URL=https://bst-hab.ru
```

## üìä SEO

- –ö–∞–∂–¥–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ `title`, `description`, `keywords`
- –ú–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∞ Schema.org –¥–ª—è –æ–±–æ–∏—Ö –≥–æ—Ä–æ–¥–æ–≤
- Canonical URL –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- `sitemap.xml` –≤–∫–ª—é—á–∞–µ—Ç –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `robots.txt` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏
npm run build

# –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω-–≤–µ—Ä—Å–∏–∏
npm start

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ localhost:3000
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ localhost:3000/irkutsk
```

## üéØ –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –≥–æ—Ä–æ–¥–∞

1. **–î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã** –≤ `components/shared/constants.ts`:

```typescript
export const VLADIVOSTOK_OFFICE = {
  name: 'BST HAB –í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫',
  phone: '+7 (423) ...',
  // ...
}

export const CITIES = {
  khabarovsk: { ... },
  irkutsk: { ... },
  vladivostok: { id: 'vladivostok', name: '–í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫', ... },
}
```

2. **–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É** `app/vladivostok/page.tsx` (—Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–∑ `/irkutsk`)

3. **–û–±–Ω–æ–≤–∏—Ç—å middleware** –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –ª–æ–≥–∏–∫–∞ –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø–æ–¥–¥–æ–º–µ–Ω–∞

4. **–û–±–Ω–æ–≤–∏—Ç—å `sitemap.ts`** –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

–í—Å—ë! –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≥–æ—Ä–æ–¥–∞ –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- SSR –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω
- Image optimization –≤–∫–ª—é—á–µ–Ω–∞
- –ö–æ–º–ø—Ä–µ—Å—Å–∏—è –≤–∫–ª—é—á–µ–Ω–∞
- Webpack –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- Lazy loading –¥–ª—è —Ç—è–∂—ë–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### "Module not found" –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–Ω—ã–µ –ø—É—Ç–∏:

```typescript
// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
import Hero from '@/components/sections/home/Hero'

// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
import Hero from '@/components/sections/home/Hero/Hero'
```

### Middleware –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ

Middleware —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ dev/production —Ä–µ–∂–∏–º–µ Next.js, –Ω–µ –≤ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º —ç–∫—Å–ø–æ—Ä—Ç–µ.

### –ö–æ–Ω—Ç–∞–∫—Ç—ã –Ω–µ –º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –≥–æ—Ä–æ–¥–∞

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `currentInfo` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤ Header –Ω–∞ –æ—Å–Ω–æ–≤–µ `pathname`.
